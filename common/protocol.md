# 멀티플레이 체스 JSON 통신 프로토콜 명세

## 기본 구조

클라이언트와 서버는 아래와 같은 JSON 형태로 통신합니다.

예시 (기물 옮김 요청):

```json
{
  "op": 1,             // 요청 종류 (기물 옮김, 채팅 등)
  "data": {
    "target": "a2",    // 옮길 대상 기물의 위치
    "dest": "a3"       // 옮길 새 위치
  }
}
```

## 필드 설명

| 필드 | 설명                            |
| ---- | ------------------------------- |
| op   | 요청 종류 (아래 참조, opcode_t) |
| data | 요청 데이터 (op별로 다름)       |

### op 코드 종류 (opcode_t)

| 값  | 의미        |
| --- | ----------- |
| 0   | Heartbeat   |
| 1   | 기물 옮김   |
| 2   | 채팅 메시지 |

### data 구조 (op별)

#### op = 1 (기물 옮김, movedata_t)

| 필드   | 설명                            |
| ------ | ------------------------------- |
| target | 옮길 기물의 위치 (e.g. "a2")    |
| dest   | 옮길 기물의 새 위치 (e.g. "a3") |

#### op = 2 (채팅 메시지)

(예시)

```json
{
  "op": 2,
  "data": {
    "msg": "hello!"
  }
}
```
  
| 필드 | 설명             |
| ---- | ---------------- |
| msg  | 채팅 메시지 내용 |

## 참고

- op, data 구조는 확장 가능 (message_t, movedata_t 등)
- 테스트용 JSON 예시는 위 예시 참고
